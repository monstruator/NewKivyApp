<ObjRecordScreen>
    name: "obj_record"
    md_bg_color: self.theme_cls.primaryContainerColor
    text_date: ""
    text_time1: ""
    text_time2: ""
    text_name: ""
    text_description: ""
    text_temp: ""
    text_presure: ""
    text_hum: ""

    MDBoxLayout:
        orientation: "vertical"
        MDTopAppBar:
            type: "small" 
            theme_bg_color:"Custom"
            md_bg_color: 0.2, .3, .3, 1

            MDTopAppBarTitle:
                text: "Объект измерений"
                text_color: "white"
                pos_hint: {"center_x": .5}
                font_style: "Headline"
                role: "small"

            MDTopAppBarTrailingButtonContainer:    
                MDActionTopAppBarButton:
                    icon: "arrow-left"
                    theme_icon_color: "Custom"
                    icon_color: "white"
                    on_release: app.go_to_recods()
                    
        ScrollView:
            MDGridLayout:
                id: custom_widget_box
                size_hint_y: None
                cols:1
                height: self.minimum_height
                padding:[dp(15),dp(15),dp(15),dp(35)]
                spacing:dp(25)

                MDTextField:
                    id: name_field
                    mode: "outlined"
                    text: root.text_name
                    on_text: root.on_text_change(self.text)
                    MDTextFieldHintText:
                        text: "Имя пробы"
                    MDTextFieldMaxLengthText:
                        max_text_length: 30

                MDTextField:
                    id: date_field
                    mode: "outlined"
                    text: root.text_date
                    on_focus: root.open_date_picker(self.focus)
                    MDTextFieldHintText:
                        text: "Введите дату"
                    #MDTextFieldHelperText:
                    #    text: "MM.DD.YYYY"
                    #    mode: "persistent"
                        
                MDTextField:
                    id: time1_field
                    mode: "outlined"
                    text: root.text_time1
                    on_focus: root.open_time_picker1(self.focus)
                    MDTextFieldHintText:
                        text: "Введите время начала измерения"
                
                MDTextField:
                    id: time2_field
                    mode: "outlined"
                    text: root.text_time2
                    on_focus: root.open_time_picker2(self.focus)
                    MDTextFieldHintText:
                        text: "Введите время окончания измерения"
                    #MDTextFieldHelperText:

                MDLabel:
                    text: "Объект измерения"

                MDTextField:
                    id: description_field
                    #mode: "outlined"
                    text: root.text_description
                    on_text: root.on_descr_change(self.text)
                    multiline: True
                    size_hint_y: None
                    #height: self.minimum_height
                    #MDTextFieldHintText:
                    #    text: "Объект измерения"

                MDLabel:
                    text: "Условия в месте измерений:"

                MDTextField:
                    id: presure_field
                    mode: "outlined"
                    text: root.text_presure
                    on_text: root.on_presure_change(self.text)
                    MDTextFieldHintText:
                        text: "Атмосферное давление, кПа"
                    
                MDTextField:
                    id: temp_field
                    mode: "outlined"
                    text: root.text_temp
                    on_text: root.on_temp_change(self.text)
                    MDTextFieldHintText:
                        text: "Tемпература воздуха, гр.С"
                
                MDTextField:
                    id: hum_field
                    mode: "outlined"
                    text: root.text_hum
                    on_text: root.on_hum_change(self.text)
                    MDTextFieldHintText:
                        text: "Относительная влажность, %"     

                          
#-------------------------------------------------------------------------------------------------            
        MDTopAppBar:
            id: appbar_custom
            type: "small"  
            padding:[dp(15),dp(15),dp(15),dp(35)]
            #spacing:dp(25)
                
            MDTopAppBarLeadingButtonContainer:

                MDActionTopAppBarButton:
                    icon: "menu"
                    theme_icon_color: "Custom"
                    icon_color: "green"
                    on_release: app.open_left_menu(self, 0)

            MDTopAppBarTitle:
                pos_hint: {"center_x": .5, "center_y": .5}
                text: " "
                theme_text_color: "Custom"
                text_color: "green"

            MDFabButton:
                icon: "content-save"
                style: "standard" 
                color_map: "tertiary" 
                theme_bg_color: "Custom"
                md_bg_color: "blue" 
                on_release: root.save_record()  
                
<Spacer@Widget>
    size_hint_y: None
    height: "12dp"

<MeasCard@RelativeLayout>:
    size_hint_y: None
    height: "600dp"
    
    MDCard:
        theme_bg_color:"Custom"
        md_bg_color: 0.4, .4, .4, .1
        Widget:
            size_hint_x: .05
            
        MDBoxLayout:
            size_hint_x: .8
            orientation: "vertical"
            spacing: "15dp"
            padding: "12dp"

            MDBoxLayout:
                orientation: "horizontal"
                spacing: "22dp" 

                CustomButton:
                    icon: "minus"
                    text: "Предыдущее"   
                CustomButton:
                    icon: "plus"
                    text: "Следующее"      
            Spacer:    

            MDBoxLayout:
                orientation: "horizontal"
                spacing: "22dp" 

                CustomButton:
                    icon: "content-save"
                    text: "Сохранить"
                CustomButton:
                    icon: "content-save"
                    text: "Удалить"
                CustomButton:
                    icon: "file-plus-outline"
                    text: "Новое"  

            Spacer:

            MDLabel:
                text: "Измерение 0/0"
                font_style: "Display"
                role: "small"

            MDTextField:
                id: p1
                mode: "outlined"
                text: "root.p1"
                #on_text: root.on_presure_change(self.text)
                MDTextFieldHintText:
                    text: "Рабочее давление, кПа"
            
            MDTextField:
                id: p2
                mode: "outlined"
                text: "root.p1"
                #on_text: root.on_presure_change(self.text)
                MDTextFieldHintText:
                    text: "Рабочее давление, кПа"

            MDTextField:
                id: p3
                mode: "outlined"
                text: "root.p1"
                #on_text: root.on_presure_change(self.text)
                MDTextFieldHintText:
                    text: "Рабочее давление, кПа"

            MDTextField:
                id: p4
                mode: "outlined"
                text: "root.p1"
                #on_text: root.on_presure_change(self.text)
                MDTextFieldHintText:
                    text: "Рабочее давление, кПа"

            MDTextField:
                id: p5
                mode: "outlined"
                text: "root.p1"
                on_text: root.on_presure_change(self.text)
                MDTextFieldHintText:
                    text: "Рабочее давление, кПа"
                
        MDBoxLayout:   
            size_hint_x: .05    
                

<CustomButton@MDButton>
    icon: "android"
    text: "Button"
    style: "filled"
    theme_width: "Custom"
    height: "56dp"
    size_hint_x: .5
    MDButtonIcon:
        x: text.x - (self.width + dp(10))
        icon: root.icon

    MDButtonText:
        id: text
        text: root.text
        pos_hint: {"center_x": .5, "center_y": .5}