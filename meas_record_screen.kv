<MeasRecordScreen>
    name: "obj_record"
    md_bg_color: self.theme_cls.primaryContainerColor
    record_name: "None"

    MDBoxLayout:
        orientation: "vertical"

        MDBoxLayout:
            id: top1
            theme_bg_color:"Custom"
            md_bg_color: 0.2, .3, .3, 1
            adaptive_height: False
            size_hint_y: None
            height: label_top.texture_size[1] + 40
            orientation: "horizontal"
            spacing: "10dp"
            padding:[dp(15),dp(15),dp(15),dp(15)]
            
            MDLabel:
                id: label_top
                font_style: "Title"
                role: "small"    
                text: "Измерения"
                text_color: "white"
                valign: "center"
                halign: "center"
                
            MDIconButton:
                icon: "arrow-left"
                style: "tonal"
                theme_bg_color: "Custom"
                md_bg_color: 0.2, .3, .3, 1
                #md_bg_color: 0.2, .7, .3, 1
                theme_icon_color: "Custom"
                icon_color: "white"
                pos_hint: {"center_y": .5}
                on_release: app.go_to_obj()
                    
        ScrollView:
            MDGridLayout:
                adaptive_height: True
                id: custom_widget_box
                size_hint_y: None
                cols:1
                padding:[dp(15),dp(15),dp(15),dp(25)]
                spacing:dp(35)

                Spacer:

                MDLabel:
                    font_style: "Title"
                    role: "medium"
                    text: "Просмотр и редактирование измерений"  

                MDBoxLayout:
                    orientation: "horizontal"
                    spacing: "22dp"
                    adaptive_height: False
                    size_hint_y: None
                    height: minus.texture_size[1] 

                    CustomButton:
                        id: minus
                        icon: "arrow-left-thick"
                        on_release: root.prev_meas() 
                    CustomButton:
                        #icon: "plus"
                        icon: "arrow-right-thick"
                        on_release: root.next_meas()    
                    CustomButton:
                        #icon: "content-save"
                        icon: "receipt-text-edit-outline"
                        on_release: root.update_meas() 
                    CustomButton:
                        icon: "trash-can"
                        on_release: root.delete_meas()
                        
                Spacer:

                MDBoxLayout:
                    orientation: "horizontal"
                    spacing: "22dp"
                    adaptive_height: False
                    size_hint_y: None
                    height: minus.texture_size[1] 

                    MDLabel:
                        size_hint_x: .3
                        text: "Изм "
                        font_style: "Title"
                        role: "large"
                    
                    MDTextField:
                        size_hint_x: .25
                        id: n_record
                        mode: "outlined"
                        text: "0"
                        pos_hint: {"center_y": .5}
                        #on_text: root.on_temp_change(self.text)
                    
                    MDLabel:
                        size_hint_x: .10
                        text: "/"
                        font_style: "Title"
                        role: "large"
                    
                    MDLabel:
                        id: total_meas
                        size_hint_x: .25
                        text: "0"
                        font_style: "Title"
                        role: "large"

                MDTextField:
                    id: p1
                    mode: "outlined"
                    text: ""
                    #on_text: root.on_presure_change(self.text)
                    MDTextFieldHintText:
                        text: "Рабочее динамическое давление, Па"
                
                MDTextField:
                    id: p2
                    mode: "outlined"
                    text: ""
                    #on_text: root.on_presure_change(self.text)
                    MDTextFieldHintText:
                        text: "Контрольное динамическое давление, Па"

                MDTextField:
                    id: p3
                    mode: "outlined"
                    text: ""
                    #on_text: root.on_presure_change(self.text)
                    MDTextFieldHintText:
                        text: "Полное давление, Па"
                    
                MDTextField:
                    id: n_point
                    size_hint_x: .9
                    mode: "outlined"
                    MDTextFieldHintText:
                        text: "Номер раб точки"
                    
                MDBoxLayout:
                    adaptive_height: True
                    orientation: "horizontal"
                    #padding: [dp(25),dp(10),dp(10),dp(25)]
                    spacing: dp(30)
                    MDCheckbox:
                        id: in_calc
                        pos_hint: {'center_x': .1, "center_y": .5}
                        #on_active: root.on_checkbox_active1(0)
                        

                    MDLabel:
                        text: "В расчете"
                        font_style: "Label"
                        role: "medium"
                        markup: True

                #MDTextField:
                #    id: p4
                #    mode: "outlined"
                #    text: ""
                #    #on_text: root.on_presure_change(self.text)
                #    MDTextFieldHintText:
                #        text: "Ротаметра давление, кПа"

                #MDTextField:
                #    id: p5
                #    mode: "outlined"
                #    text: ""
                #    #on_text: root.on_presure_change(self.text)
                #    MDTextFieldHintText:
                #        text: "Атмосферное давление, кПа"

                Spacer:
                
                MDBoxLayout:
                    orientation: "horizontal"
                    spacing: "22dp" 
                    #theme_bg_color:"Custom"
                    #md_bg_color: 0.2, .3, .3, 1 
                    MDLabel:
                        font_style: "Title"
                        role: "medium"
                        text: "Создание нового измерения"  

                    CustomButton:
                        pos_hint: {"center_x": .5}
                        #icon: "content-save"
                        icon: "file-document-plus-outline"
                        on_release: root.new_meas()

                MDTextField:
                    id: p1n
                    mode: "outlined"
                    MDTextFieldHintText:
                        text: "Рабочее динамическое давление, Па"
                
                MDTextField:
                    id: p2n
                    mode: "outlined"
                    MDTextFieldHintText:
                        text: "Контрольное динамическое давление, Па"

                MDTextField:
                    id: p3n
                    mode: "outlined"
                    MDTextFieldHintText:
                        text: "Полное давление, Па"
                    
                MDTextField:
                    id: n_point_n
                    mode: "outlined"
                    MDTextFieldHintText:
                        text: "Номер раб точки"
                
                MDBoxLayout:
                    adaptive_height: True
                    orientation: "horizontal"
                    #padding: [dp(25),dp(10),dp(10),dp(25)]
                    spacing: dp(30)    
                    MDCheckbox:
                        id: in_calc_n
                        pos_hint: {'center_x': .1, "center_y": .5}
                        #on_active: root.on_checkbox_active1(0)
                        active: True

                    MDLabel:
                        text: "В расчете"
                        font_style: "Label"
                        role: "medium"
                        markup: True

                #MDTextField:
                #    id: p4n
                #    mode: "outlined"
                #    MDTextFieldHintText:
                #        text: "Ротаметра давление, кПа"

                #MDTextField:
                #    id: p5n
                #    mode: "outlined"
                #    MDTextFieldHintText:
                #        text: "Атмосферное давление, кПа"
                    
                
            #MDBoxLayout:   
            #    size_hint_x: .05    
                          
#-------------------------------------------------------------------------------------------------            
        MDBoxLayout:
            id: top1
            theme_bg_color:"Custom"
            md_bg_color: 0.2, .3, .3, 1
            adaptive_height: False
            size_hint_y: None
            height: label_top.texture_size[1] + 40
            orientation: "horizontal"
            spacing: "10dp"
            padding:[dp(15),dp(15),dp(15),dp(15)]

            #Widget:

            MDIconButton:
                icon: "menu"
                style: "tonal"
                theme_bg_color: "Custom"
                md_bg_color: 0.2, .3, .3, 1
                #md_bg_color: 0.2, .7, .3, 1
                theme_icon_color: "Custom"
                icon_color: "white"
                pos_hint: {"center_y": .5}
                on_release: app.open_left_menu(self, 1)
            
            MDBoxLayout:
                MDLabel:
                    id: label_top
                    text: root.record_name
                    text_color: "white"
                    valign: "center"
                    halign: "center"

            MDFabButton:
                icon: "bluetooth"
                style: "standard" 
                color_map: "tertiary" 
                theme_bg_color: "Custom"
                md_bg_color: "blue"   
                on_release: app.go_to_bt()   
            
                
<Spacer@Widget>
    size_hint_y: None
    height: "12dp"
<Spacer10@Widget>
    size_hint_y: None
    height: "120dp"

#<MeasCard>:
    
                

<CustomButton@MDFabButton>
    icon: "content-save"
    style: "standard"
    color_map: "tertiary"
    theme_bg_color: "Custom"
    md_bg_color: 0.4, .4, .7, 1
    
    #size_hint_x: .2
    #size_hint_y: None  # Disable vertical size hint
    #height: dp(56)  # Set the height to 56dp
    
    #style: "filled"
    #theme_width: "Custom"
    #height: "56dp"
    #size_hint_x: .5
    #MDButtonIcon:
    #    x: text.x - (self.width + dp(10))
    #    icon: root.icon

    #MDButtonText:
    #    id: text
    #    text: root.text
    #    pos_hint: {"center_x": .5, "center_y": .5}